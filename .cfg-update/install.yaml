---

- hosts: localhost
  pre_tasks:

    - name: Add some repos via git
      git:
        repo: "{{ item.repo }}"
        dest: "{{ item.dest }}"
      loop:
          - { repo: "https://github.com/kewlfft/ansible-aur.git", dest: "modules/aur" }
          - { repo: "https://github.com/ewok/ansible-pacman-key.git", dest: "modules/pacman_key" }
      tags:
        - pre

  tasks:
    - include_role:
        name: base
        apply:
          tags:
            - base
      tags:
        - base
    - include_role:
        name: gui_tools
        apply:
          tags:
            - gui_tools
      tags:
        - gui_tools
    - include_role:
        name: mail
        apply:
          tags:
            - mail
      tags:
        - mail
    - include_role:
        name: editor
        apply:
          tags:
            - editor
      tags:
        - editor
    - include_role:
        name: printer
        apply:
          tags:
            - printer
      tags:
        - printer
